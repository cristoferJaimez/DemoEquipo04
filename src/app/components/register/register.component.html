<div class="page-container">
    <!-- Header -->
    <div class="dashboard-header">
      <img src="assets/logo.png" alt="Logo" class="logo" />
      <h1>Registro</h1>
      <button class="back-button" (click)="goBack()">Regresar</button>
    </div>
  
    <!-- Main content -->
    <div class="main-content">
      <form #registerForm="ngForm" (submit)="onSubmit()" novalidate>
        <h3>Seleccione el tipo de registro</h3>
            <label for="user-type">Tipo de Registro</label>
            <select id="user-type" (change)="onUserTypeChange($event)" required>
            <option value="" disabled selected>Seleccione...</option>
            <option value="cuidador">Cuidador</option>
            <option value="animal">Animal</option>
            <option value="user">Usuario</option> <!-- Added the "user" option -->
            </select>

  
        <!-- Formulario de Cuidador -->
<div *ngIf="iscuidador" class="cuidador-form">
    <h4>Datos del Cuidador</h4>
    
    <!-- Campo de texto para Nombre del Cuidador -->
    <label for="cuidador-name">Nombre</label>
    <input
      type="text"
      id="cuidador-name"
      [(ngModel)]="cuidador.nombre"
      name="cuidadorName"
      #cuidadorName="ngModel"
      required
    />
    <div *ngIf="cuidadorName.invalid && cuidadorName.touched" class="error">
      El nombre es obligatorio.
    </div>
  
    <!-- Campo de correo para el Cuidador -->
    <label for="cuidador-email">Correo</label>
    <input
      type="email"
      id="cuidador-email"
      [(ngModel)]="cuidador.correo"
      name="cuidadorEmail"
      #cuidadorEmail="ngModel"
      required
    />
    <div *ngIf="cuidadorEmail.invalid && cuidadorEmail.touched" class="error">
      Introduzca un correo válido.
    </div>
  
    <!-- Campo de teléfono para el Cuidador -->
    <label for="cuidador-phone">Teléfono</label>
    <input
      type="tel"
      id="cuidador-phone"
      [(ngModel)]="cuidador.telefono"
      name="cuidadorPhone"
      #cuidadorPhone="ngModel"
      required
      pattern="[0-9]{10}"
    />
    <div *ngIf="cuidadorPhone.invalid && cuidadorPhone.touched" class="error">
      El teléfono debe ser numérico y tener 10 dígitos.
    </div>
  
    <!-- Campo de selección para Turno -->
    <label for="cuidador-shift">Turno</label>
    <select
      id="cuidador-shift"
      [(ngModel)]="cuidador.turno"
      name="cuidadorShift"
      #cuidadorShift="ngModel"
      required
    >
      <option value="" disabled selected>Seleccione el turno</option>
      <option value="Mañana">Mañana</option>
      <option value="Tarde">Tarde</option>
      <option value="Noche">Noche</option>
      <option value="Rotativo">Rotativo</option>
    </select>
    <div *ngIf="cuidadorShift.invalid && cuidadorShift.touched" class="error">
      El turno es obligatorio.
    </div>
  
    <!-- Botón de registro -->
    <button type="submit" [disabled]="!registerForm.valid">Registrar Cuidador</button>
  </div>
  
        
        <!-- Formulario de Animal -->
<div *ngIf="isAnimal" class="animal-form">
    <h4>Datos del Animal</h4>
  
    <!-- Campo de texto para Nombre del Animal -->
    <label for="animal-name">Nombre</label>
    <input
      type="text"
      id="animal-name"
      [(ngModel)]="animal.nombre"
      name="animalName"
      #animalName="ngModel"
      required
    />
    <div *ngIf="animalName.invalid && animalName.touched" class="error">
      El nombre es obligatorio.
    </div>
  
    <!-- Campo de selección de Especie -->
    <label for="animal-species">Especie</label>
    <select id="animal-species" [(ngModel)]="animal.especie" name="animalSpecies" #animalSpecies="ngModel" required>
      <option value="" disabled selected>Seleccione la especie</option>
      <option value="Perro">Perro</option>
      <option value="Gato">Gato</option>
      <option value="Conejo">Conejo</option>
      <option value="Ave">Ave</option>
      <option value="Otro">Otro</option>
    </select>
    <div *ngIf="animalSpecies.invalid && animalSpecies.touched" class="error">
      La especie es obligatoria.
    </div>
  
    <!-- Campo de selección de Tipo de Comida -->
    <label for="animal-food">Tipo de Comida</label>
    <select id="animal-food" [(ngModel)]="animal.tipoComida" name="animalFood" #animalFood="ngModel" required>
      <option value="" disabled selected>Seleccione el tipo de comida</option>
      <option value="Croquetas">Croquetas</option>
      <option value="Húmeda">Húmeda</option>
      <option value="Natural">Natural</option>
      <option value="Otro">Otro</option>
    </select>
    <div *ngIf="animalFood.invalid && animalFood.touched" class="error">
      El tipo de comida es obligatorio.
    </div>
  
    <!-- Campo de selección de Estado de Salud -->
    <label for="animal-health">Estado de Salud</label>
    <select id="animal-health" [(ngModel)]="animal.estadoSalud" name="animalHealth" #animalHealth="ngModel" required>
      <option value="" disabled selected>Seleccione el estado de salud</option>
      <option value="Excelente">Excelente</option>
      <option value="Bueno">Bueno</option>
      <option value="Regular">Regular</option>
      <option value="Malo">Malo</option>
    </select>
    <div *ngIf="animalHealth.invalid && animalHealth.touched" class="error">
      El estado de salud es obligatorio.
    </div>
  
    <!-- Campo de selección de Peso -->
    <label for="animal-weight">Peso (kg)</label>
    <select id="animal-weight" [(ngModel)]="animal.peso" name="animalWeight" #animalWeight="ngModel" required>
      <option value="" disabled selected>Seleccione el peso</option>
      <option value="1">1 kg</option>
      <option value="2">2 kg</option>
      <option value="3">3 kg</option>
      <option value="4">4 kg</option>
      <option value="5">5 kg</option>
      <option value="6">6 kg</option>
      <option value="7">7 kg</option>
      <option value="8">8 kg</option>
      <option value="9">9 kg</option>
      <option value="10">10 kg o más</option>
    </select>
    <div *ngIf="animalWeight.invalid && animalWeight.touched" class="error">
      El peso es obligatorio.
    </div>
  
    <!-- Botón de registro -->
    <button type="submit" [disabled]="!registerForm.valid">Registrar Animal</button>
  </div>
  
      </form>



     <!-- Formulario de Usuario -->
<div *ngIf="isUser" class="user-form">
    <h4>Datos del Usuario</h4>
  
    <!-- Campo de texto para el Nombre del Usuario -->
    <label for="user-name">Nombre</label>
    <input
      type="text"
      id="user-name"
      [(ngModel)]="user.name"
      name="userName"
      #userName="ngModel"
      required
      minlength="3"
    />
    <div *ngIf="userName.invalid && userName.touched" class="error">
      El nombre es obligatorio y debe tener al menos 3 caracteres.
    </div>
  
    <!-- Campo de texto para el Nombre de Usuario -->
    <label for="user-username">Nombre de Usuario</label>
    <input
      type="text"
      id="user-username"
      [(ngModel)]="user.username"
      name="userUsername"
      #userUsername="ngModel"
      required
      minlength="3"
    />
    <div *ngIf="userUsername.invalid && userUsername.touched" class="error">
      El nombre de usuario es obligatorio y debe tener al menos 3 caracteres.
    </div>
  
    <!-- Input para seleccionar una foto -->
<label for="user-photo">Subir Foto</label>
<input type="file" id="user-photo" (change)="onFileSelected($event)" />

<!-- Mostrar error si la foto no ha sido subida -->
<div *ngIf="!user.urlPhoto && userPhotoTouched" class="error">
  Es obligatorio subir una foto.
</div>
  
    <!-- Campo de correo para el Usuario -->
    <label for="user-email">Correo Electrónico</label>
    <input
      type="email"
      id="user-email"
      [(ngModel)]="user.email"
      name="userEmail"
      #userEmail="ngModel"
      required
    />
    <div *ngIf="userEmail.invalid && userEmail.touched" class="error">
      Introduzca un correo válido.
    </div>
  
    <!-- Campo de contraseña para el Usuario -->
    <label for="user-password">Contraseña</label>
    <input
      type="password"
      id="user-password"
      [(ngModel)]="user.password"
      name="userPassword"
      #userPassword="ngModel"
      required
      minlength="8"
      pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
    />
    <div *ngIf="userPassword.invalid && userPassword.touched" class="error">
      La contraseña debe tener al menos 8 caracteres, una mayúscula, un número y un símbolo especial.
    </div>
  
    <!-- Campo de teléfono para el Usuario -->
    <label for="user-phone">Teléfono</label>
    <input
      type="tel"
      id="user-phone"
      [(ngModel)]="user.phoneNumber"
      name="userPhone"
      #userPhone="ngModel"
      required
      pattern="[0-9]{10}"
    />
    <div *ngIf="userPhone.invalid && userPhone.touched" class="error">
      El teléfono debe ser numérico y tener 10 dígitos.
    </div>
  
    <!-- Botón de registro -->
    <button type="submit" [disabled]="registerForm.invalid">Registrar Usuario</button>
  </div>
  

    </div>
  </div>

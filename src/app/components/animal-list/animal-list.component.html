<div class="page-container">
  <!-- Encabezado -->
  <div class="dashboard-header">
    <img src="assets/logo.png" alt="Logo" class="logo" />
    <h1>Gestión de Animales</h1>
    <button class="back-button" (click)="goBack()">Regresar</button>
  </div>

  <!-- Cargando -->
  <div *ngIf="isLoading">Cargando...</div>

  <!-- Contenido principal -->
  <div class="main-content" *ngIf="!isLoading">
    <!-- Barra de búsqueda -->
    <div class="search-panel">
      <h3>Buscar Animales</h3>
      <input type="text" placeholder="Ingrese nombre del animal o especie..." (input)="onSearch($event)" />
    </div>

    <!-- Si no hay animales -->
    <div *ngIf="animals.length === 0 && !isLoading" class="no-animals-message">
      <img src="https://dbdzm869oupei.cloudfront.net/img/sticker/preview/51761.png" alt="No animals available" class="no-animals-image" />
      <p>No hay animales disponibles en este momento.</p>
    </div>

    <!-- Listado de animales -->
    <div class="animal-list" *ngIf="animals.length > 0">
      <h3>Listado de Animales</h3>
      <div *ngFor="let animal of paginatedAnimals" class="animal-item">
        <div class="animal-info-card">
          <img src="assets/animal-placeholder.png" alt="{{ animal.nombre }}" class="animal-image" />
          <div class="animal-info">
            <p><strong>Nombre:</strong> {{ animal.nombre }}</p>
            <p><strong>Especie:</strong> {{ animal.especie }}</p>
            <p><strong>Estado de Salud:</strong> {{ animal.estadoSalud }}</p>
          </div>
          <div class="crud-actions">
            <button (click)="viewAnimal(animal)">Ver</button>
            <button (click)="editAnimal(animal)">Editar</button>
            <button (click)="deleteAnimal(animal)">Eliminar</button>
          </div>
        </div>
      </div>

      <!-- Paginación -->
      <div class="pagination">
        <button (click)="prevPage()" [disabled]="currentPage === 1">Anterior</button>
        <span>Página {{ currentPage }} de {{ totalPages }}</span>
        <button (click)="nextPage()" [disabled]="currentPage === totalPages">Siguiente</button>
      </div>
    </div>
  </div>

  <!-- Modal para editar el animal -->
  <div *ngIf="isEditModalVisible" class="modal">
    <div class="modal-content">
      <h4>Editar Animal</h4>
      <label>Nombre:</label>
      <input [(ngModel)]="selectedAnimal!.nombre" type="text" />

      <label>Especie:</label>
      <input [(ngModel)]="selectedAnimal!.especie" type="text" />

      <label>Tipo de Comida:</label>
      <input [(ngModel)]="selectedAnimal!.tipoComida" type="text" />

      <label>Estado de Salud:</label>
      <input [(ngModel)]="selectedAnimal!.estadoSalud" type="text" />

      <label>Peso:</label>
      <input [(ngModel)]="selectedAnimal!.peso" type="number" />

      <div class="modal-actions">
        <button (click)="saveEditAnimal()">Guardar Cambios</button>
        <button (click)="isEditModalVisible = false">Cancelar</button>
      </div>
    </div>
  </div>
</div>
